<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Lite XL - System API</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg" href="/assets/img/logo.svg">
    <link rel="stylesheet" href="/assets/stylesheet.css"/>
    <script type='text/javascript' src='/assets/javascript.js'></script>
    <meta name="description" content="A lightweight, simple, fast, feature-filled, and extremely extensible text editor written in C, and Lua, adapted from Lite.">
  </head>
  <body>
    <header>
      <logo>
        <a href='/en'><img class='logo' src='/assets/img/logo.svg'/></a>
        <h2><a href='/en'>Lite XL</a></h2>
      </logo>
      <links>
        <menu>
          <h2><a href='/en/about'>About</a></h2>
          <items>
            <a href='/en/about/faq'>FAQ</a>
            <a href='/en/about/features'>Features</a>
            <a href='/en/about/screenshots'>Screenshots</a>
            <a href='/en/about/contributors'>Contributors</a>
          </items>
        </menu>
        <menu>
          <h2><a href='/en/documentation'>Documentation</a></h2>
          <items>
            <a href='/en/documentation/usage'>Usage</a>
            <a href='/en/documentation/build'>Build</a>
            <a href='/en/documentation/keymap'>Default Keymap</a>
            <a href='/en/documentation/keymap-macos'>MacOS Keymap</a>
          </items>
        </menu>
        <menu>
          <h2><a href='/en/tutorials'>Tutorials</a></h2>
          <items>
            <a href='/en/tutorials/simple-plugin'>Simple Plugin</a>
            <a href='/en/tutorials/syntax-highlighting'>Syntax Highlighting</a>
            <a href='/en/tutorials/api-overview'>API Overview</a>
            <a href='/en/tutorials/system-fonts'>System Fonts</a>
          </items>
        </menu>
        <h2><a target="_blank" href='https://github.com/lite-xl/lite-xl-plugins'>
          <svg style="width:24px;height:24px" viewBox="0 0 24 24">
            <path fill="currentColor" d="M19 6V5A2 2 0 0 0 17 3H15A2 2 0 0 0 13 5V6H11V5A2 2 0 0 0 9 3H7A2 2 0 0 0 5 5V6H3V20H11.81A6.5 6.5 0 0 1 21 10.81V6M20.31 17.9A4.5 4.5 0 1 0 18.88 19.32L22 22.39L23.39 21M16.5 18A2.5 2.5 0 1 1 19 15.5A2.5 2.5 0 0 1 16.5 18Z" />
          </svg>
          Plugins
        </a></h2>
        <h2><a href='/en/downloads'>
          <svg style="width:24px;height:24px" viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
          </svg>
          Downloads
        </a></h2>
      </links>
      <links>
        <h2><a href='https://duckduckgo.com/?sites=lite-xl.com&kae=d&kt=p&kp=1&kn=1&k1=-1&q=%20'>
          <svg style="width:24px;height:24px" viewBox="0 0 24 24">
            <path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
        </svg>
          Search
        </a></h2>
      </links>
      <expander/>
    </header>
    <content>
      <page id='page-tutorials-overview-system'>
        <h1 id="system-api">System API</h1>

<p>This is where Lite XL&#39;s lua code interact with its underlying C engine.
Some of the functions here will be omitted because they&#39;re not useful for
plugins.</p>

<h2 id="clipboard">Clipboard</h2>

<ul>
<li><code>system.set_clipboard(text)</code> sets the clipboard content.</li>
<li><code>system.get_clipboard()</code> retrieves the content of the clipboard.</li>
</ul>

<h2 id="file-directory-manipulation">File / Directory manipulation</h2>

<ul>
<li><code>system.list_dir(dir)</code> returns a list of filenames in a directory.</li>
<li><code>system.rmdir(dir)</code> removes a directory. Use this instead of <code>os.remove()</code>.
<strong>The directory must be empty.</strong></li>
<li><code>system.chdir(dir)</code> changes the current working directory (like <code>cd</code>).</li>
<li><code>system.mkdir(dir)</code> creates a new directory.
<strong>It does not recursively create directories.</strong></li>
<li><code>system.absolute_path(path)</code> resolves the path components (<code>.. and .</code>) to an absolute path.</li>
<li><code>system.get_file_info(path)</code> returns info about a path.

<ul>
<li><code>modified</code>: last modification time of the file in seconds since UNIX epoch.</li>
<li><code>size</code>: file size in bytes.</li>
<li><code>type</code>: Path type (<code>&quot;file&quot;</code> or <code>&quot;dir&quot;</code>).</li>
</ul></li>
</ul>

<h2 id="timing">Timing</h2>

<ul>
<li><code>system.get_time()</code> returns time in seconds (as floating point number) since Lite XL started.
Use this instead of <code>os.time()</code> for higher precision timers.</li>
<li><code>system.sleep(time)</code> sleeps for <code>time</code> in milliseconds.
<strong>Do not use this. Write asynchronous code.</strong></li>
</ul>

<h2 id="window-manipulation">Window manipulation</h2>

<ul>
<li><code>system.set_window_opacity(o)</code> sets the window opacity from 0 to 1.</li>
<li><code>system.set_window_title(title)</code> sets the window title.</li>
<li><code>system.set_window_mode(mode)</code> sets window mode:

<ul>
<li><code>&quot;normal&quot;</code>: also known as &quot;restored&quot; on Windows.</li>
<li><code>&quot;maximized&quot;</code>: Maximize the window.</li>
<li><code>&quot;minimized&quot;</code>: Minimize the window.</li>
<li><code>&quot;fullscreen&quot;</code>: Fullscreen</li>
</ul></li>
<li><code>system.set_window_bordered(bordered)</code> enables or disable window border (decoration).</li>
<li><code>system.set_window_hit_test(height, control_width, resize_border)</code> sets window hit test (used for
<code>config.borderless</code> to make custom drawn border interactable).

<ul>
<li>If no argument is supplied, reset the hit test values.</li>
<li><code>height</code>: height of the title bar.</li>
<li><code>controls_width</code>: Not too sure about this, but it should be the size of the title bar controls
(Maximize, Minimize and Normal buttons on the right).
It seems to be fixed at the right side of the title bar.</li>
<li><code>resize_border</code>: Number of pixels reserved for resizing the window.
(setting this to a large value means that you can resize the window way easier)</li>
</ul></li>
<li><code>system.get_window_size()</code> gets the window size.</li>
<li><code>system.set_window_size(w, h, x, y)</code> sets the window size (and also position).</li>
<li><code>system.window_has_focus()</code> checks whether the window is in focus.</li>
<li><code>system.show_fatal_error(title, msg)</code> shows an system error message box.
<strong>Use nagview whenever possible.</strong></li>
</ul>

<h2 id="misc">Misc</h2>

<ul>
<li><code>system.exec(command)</code> runs a command. Use the <a title=''  href='/en/tutorials/overview/process'>Process API</a> instead of this.</li>
<li><code>system.fuzzy_match(haystack, needle, file)</code> generates a score depends on how close the needle
matches the haystack.

<ul>
<li><code>file</code>: match backwards (more accurate for filename matching).</li>
</ul></li>
</ul>

      </page>
      <sidebar>
        <box>
          <h2>Get Involved</h2>
          <a target='_blank' href='https://github.com/lite-xl/lite-xl'>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 18 18">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
            Github
          </a>
          <a target='_blank' href='https://discord.gg/RWzqC3nx7K'>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 18 18">
              <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"/>
            </svg>
            Discord
          </a>
          <a target='_blank' href='https://matrix.to/#/#lite-xl:matrix.org'>
            <svg xmlns="http://www.w3.org/2000/svg" style="padding-right: 2px;" width="22" height="24" viewBox="0 0 520 520">
              <path d="M13.7,11.9v496.2h35.7V520H0V0h49.4v11.9H13.7z"/><path d="M166.3,169.2v25.1h0.7c6.7-9.6,14.8-17,24.2-22.2c9.4-5.3,20.3-7.9,32.5-7.9c11.7,0,22.4,2.3,32.1,6.8c9.7,4.5,17,12.6,22.1,24c5.5-8.1,13-15.3,22.4-21.5c9.4-6.2,20.6-9.3,33.5-9.3c9.8,0,18.9,1.2,27.3,3.6c8.4,2.4,15.5,6.2,21.5,11.5c6,5.3,10.6,12.1,14,20.6c3.3,8.5,5,18.7,5,30.7v124.1h-50.9V249.6c0-6.2-0.2-12.1-0.7-17.6c-0.5-5.5-1.8-10.3-3.9-14.3c-2.2-4.1-5.3-7.3-9.5-9.7c-4.2-2.4-9.9-3.6-17-3.6c-7.2,0-13,1.4-17.4,4.1c-4.4,2.8-7.9,6.3-10.4,10.8c-2.5,4.4-4.2,9.4-5,15.1c-0.8,5.6-1.3,11.3-1.3,17v103.3h-50.9v-104c0-5.5-0.1-10.9-0.4-16.3c-0.2-5.4-1.3-10.3-3.1-14.9c-1.8-4.5-4.8-8.2-9-10.9c-4.2-2.7-10.3-4.1-18.5-4.1c-2.4,0-5.6,0.5-9.5,1.6c-3.9,1.1-7.8,3.1-11.5,6.1c-3.7,3-6.9,7.3-9.5,12.9c-2.6,5.6-3.9,13-3.9,22.1v107.6h-50.9V169.2H166.3z"/>
              <path d="M506.3,508.1V11.9h-35.7V0H520v520h-49.4v-11.9H506.3z"/>
            </svg>
            Matrix
          </a>
          <!--
          <a target='_blank' href='https://adamharrison.github.io/lite-xl-web'>
            <svg style="width:22px;height:22px" viewBox="0 0 24 24">
              <path fill="currentColor" d="M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M11,17.5L9.5,19L5,14.5L9.5,10L11,11.5L8,14.5L11,17.5M14.5,19L13,17.5L16,14.5L13,11.5L14.5,10L19,14.5L14.5,19M21,7H3V4H21V7Z" />
            </svg>
            Try Live!
          </a>
          -->
        </box>
        <box>
          <h2>Status</h2>
          <a target='_blank' href='https://discord.gg/RWzqC3nx7K'><img src='https://img.shields.io/discord/847122429742809208?label=discord&logo=discord'/></a>
          <a target='_blank' href='https://repology.org/project/lite-xl/versions#align-right'><img style='width: 100%;' src='https://repology.org/badge/vertical-allrepos/lite-xl.svg'/></a>
        </box>
      </sidebar>
    </content>
  </body>
</html>
